<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>



    <script>
        
        //Part 1
        const stocks = [
  { symbol: 'Test1', price: 1, sector: 'Test1' },
  { symbol: 'Test2', price: 2, sector: 'Test2' },
  { symbol: 'Test3', price: 3, sector: 'Test3' }
];

//Part 2
function simulateStockUpdates(stocks) {
  setInterval(() => {
    const randomIndex = Math.floor(Math.random() * stocks.length);
    const stock = stocks[randomIndex];

    const maxPercentage = 4;
    const randomPercentage = (Math.random() * maxPercentage) - maxPercentage;

    const changeAmount = stock.price * (randomPercentage / 100);
    stock.price += changeAmount;

    stock.price = Math.max(0, stock.price);
    console.log(stock.price);
  }, 1000); 
}

simulateStockUpdates(stocks);


//Part 3
function filterBySector(stocks, sector) {
  const filteredStocks = stocks.filter(s => s.sector === sector);

  console.log(sector);
  filteredStocks.forEach(stock => {
    console.log(stock.symbol);
    console.log(stock.price);
  });

  return filteredStocks;
}

filterBySector(stocks, 'Test3'); // This will log all stocks in the 'Technology' sector


function alertSystem(stocks) {
  const upperLimit = 300.00; // Set the upper price limit
const lowerLimit = 100.00;
  function checkPrices() {
    stocks.forEach(stock => {
      if (stock.price > upperLimit) {
        console.log(stock.symbol);
    console.log(stock.price);
      } else if (stock.price < lowerLimit) {
        console.log(stock.symbol);
    console.log(stock.price);
      }
    });

    // Schedule the next check
    setTimeout(checkPrices, 3000); // check every 3000 milliseconds (3 seconds)
  }

  // Initial call to start the process
  checkPrices();
}

// Example usage:
 // Set the lower price limit
// Assuming `stocks` is an array of stock objects as created earlier
alertSystem(stocks);

    </script>
</body>

</html>